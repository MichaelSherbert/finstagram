<h2>New Post</h2>


<ul class="errors">
    <% @finstagram_post.errors.full_messages.each do |message| %>
        <li><%= message %></li>
    <% end %>
</ul>



<form action="/finstagram_posts" method="POST">
    <div class="form-group">
        <label for="photo_url">Photo URL</label>
        <input type="text" id="photo_url" name="photo_url">
    </div>
    <div class="form-group">
        <button class="button" type="submit">Post</button> 
    </div>
</form>


<img id="preview" style="display: none; max-width: 200px" src="">

<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>

<script>
    // Wait for the document to be ready
    $(document).ready(function() {

        // Listen for the blur event
        $("#photo_url").on("blur", function(event) {
            // Get the value from the input
            var photoUrl = event.target.value
            // Store the image tag as a jQuery object
            var preview = $("#preview");

            // If the input has a string value greater than 0, 
            // change the image tag's source attr and display the element
            // else hide the element
            if (photoUrl) {
                preview.attr("src", photoUrl)
                preview.show();
            } else {
                preview.hide();
            }
        });
    });
</script>